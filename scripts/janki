#!/usr/bin/env python

from janki import __path__ as __jpath, __version__
from janki.exceptions import *
from janki.ui         import *
from janki.config     import readconfig

from argparse import ArgumentParser
import os, sys
from os.path import join as opj

def mainscreen():
    clear()
    print(f"{16*'*'}")
    print(C.str('Welcome to Janki', 'BOLD'))
    print(f"{16*'*'}\n")
    print(f"Version:         {__version__}")
    print(f"Install path:    {jpath[0]}")
    print(f"Config path:     {args.config}")

parser = ArgumentParser(description='Janki main script')
parser.add_argument('-c', '--config', default=opj(__jpath[0], 'config.yml'), help=f"Path to the config file. Defaults to {opj(__jpath[0], 'config.yml')}")
args = parser.parse_args()

print(readconfig(args.config))
exit()


mainscreen()
action = dinput('What to do?', choices=['s', 'q'], default='s')
if action == 's':
    from janki.ui.search import search
    search()
elif not action:
    clear()
    sys.exit()
